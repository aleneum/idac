package totem.comm;

import processing.serial.Serial;
import processing.core.PApplet;

public class TSerialCommunicator {

	Serial port;
	float value = 0;

	public TSerialCommunicator(PApplet parent) {
		PApplet.println(Serial.list());
		if (Serial.list().length <= 0) {
			port = null;
		}
		port = new Serial(parent, Serial.list()[0], 9600);
		port.bufferUntil('\n');
	}

	public void serialEvent (Serial myPort){
		String inString = port.readStringUntil('\n');
		if (inString != null) {
			value = PApplet.parseFloat(inString);
		}
	}

	float getActivity(){
		return value;
	}

}
